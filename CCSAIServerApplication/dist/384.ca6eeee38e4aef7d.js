"use strict";(self.webpackChunkCCSAIWebApplication=self.webpackChunkCCSAIWebApplication||[]).push([[384],{1384:(ze,J,m)=>{m.r(J),m.d(J,{EnrollmentModule:()=>je});var a=m(6727);const D=(0,a.PH)("[Enrollment] Load Enrollments"),w=(0,a.PH)("[Enrollment] Load Enrollments Success",(0,a.Ky)()),I=((0,a.PH)("[Enrollment] Load Enrollments Failure",(0,a.Ky)()),(0,a.PH)("[Enrollment] Load Users",(0,a.Ky)())),q=(0,a.PH)("[Enrollment] Load Users Success",(0,a.Ky)()),x=(0,a.PH)("[Enrollment] Load Active Courses"),k=(0,a.PH)("[Enrollment] Load Active Courses Success",(0,a.Ky)()),F=(0,a.PH)("[Enrollment] Load Terms"),O=(0,a.PH)("[Enrollment] Load Terms Success",(0,a.Ky)()),U=(0,a.PH)("[Enrollment] Load Enrollment Details",(0,a.Ky)()),R=(0,a.PH)("[Enrollment] Load Enrollments Details Success",(0,a.Ky)()),Q="enrollment",P=(0,a.Lq)({enrollmentList:[],userList:[],activeCourseList:[],termList:[],enrollmentDetails:[]},(0,a.on)(w,(n,l)=>Object.assign(Object.assign({},n),{enrollmentList:l.data})),(0,a.on)(R,(n,l)=>Object.assign(Object.assign({},n),{enrollmentDetails:l.data})),(0,a.on)(q,(n,l)=>Object.assign(Object.assign({},n),{userList:l.data})),(0,a.on)(k,(n,l)=>Object.assign(Object.assign({},n),{activeCourseList:l.data})),(0,a.on)(O,(n,l)=>Object.assign(Object.assign({},n),{termList:l.data})));var p=m(9808),_=m(6517);const C=(0,a.ZF)(Q),B=(0,a.P1)(C,n=>n.enrollmentList),X=(0,a.P1)(C,n=>n.userList),W=(0,a.P1)(C,n=>n.activeCourseList),ee=(0,a.P1)(C,n=>n.termList),Y=(0,a.P1)(C,n=>n.enrollmentDetails);var e=m(5e3),g=m(4159),s=m(4182),h=m(777),u=m(4702);function te(n,l){1&n&&(e._uU(0),e.ALo(1,"uppercase")),2&n&&e.hij(" ",e.lcZ(1,1,l.row.studentId.fullName)," ")}function ne(n,l){1&n&&(e._uU(0),e.ALo(1,"date")),2&n&&e.hij(" ",e.lcZ(1,1,l.row.enrollDetailDate)," ")}function oe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",4)(1,"h4",5),e._uU(2,"Enrolled Student"),e.qZA(),e.TgZ(3,"div",6)(4,"div",24)(5,"div",25)(6,"div",26)(7,"div",27)(8,"input",28),e.NdJ("keyup",function(i){return e.CHM(t),e.oxw().updateFilter(i)}),e.qZA()(),e.TgZ(9,"div",29)(10,"select",30),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().limit=i}),e.TgZ(11,"option",31),e._uU(12,"10"),e.qZA(),e.TgZ(13,"option",31),e._uU(14,"25"),e.qZA(),e.TgZ(15,"option",31),e._uU(16,"50"),e.qZA(),e.TgZ(17,"option",31),e._uU(18,"100"),e.qZA()()()(),e.TgZ(19,"ngx-datatable",32)(20,"ngx-datatable-column",33),e.YNc(21,te,2,3,"ng-template",34),e.qZA(),e.TgZ(22,"ngx-datatable-column",35),e.YNc(23,ne,2,3,"ng-template",34),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.xp6(10),e.Q6J("ngModel",t.limit),e.xp6(1),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",25),e.xp6(2),e.Q6J("ngValue",50),e.xp6(2),e.Q6J("ngValue",100),e.xp6(2),e.Q6J("columnMode","force")("footerHeight",50)("rowHeight","auto")("rows",t.enrollmentDetails)("limit",t.limit)}}const M=function(){return{standalone:!0}};let le=(()=>{class n{constructor(t,o){this.activatedRoute=t,this.enrollmentStore=o,this.limit=10,this.enrollmentDetails=[],this.temp=[],this.selectedInstructor={_id:"",firstName:"",lastName:"",fullName:"",email:"",role:"",user_status:""},this.selectedCourse={_id:"",course_status:"",course:"",courseCode:""},this.selectedTerm={_id:"",termName:""},this.enrollmentId="",this.activatedRoute.data.subscribe(i=>{this.initializeValues(i.routeResolver.data)})}ngOnInit(){this.loadEnrollmentDetails()}loadEnrollmentDetails(){this.enrollmentStore.dispatch(U({id:this.enrollmentId})),this.enrollmentDetails$=this.enrollmentStore.select(Y),this.enrollmentDetails$.subscribe(t=>{this.enrollmentDetails=t,this.temp=t})}updateFilter(t){const o=t.target.value.toLowerCase(),i=this.temp.filter(function(r){return-1!==r.studentId.fullName.toLowerCase().indexOf(o)||!o});this.enrollmentDetails=i}initializeValues(t){const o=t.enrollmentDate.split("T")[0],i=o.split("-")[2],r=o.split("-")[0],c=o.split("-")[1],b={year:parseInt(r),month:parseInt(c),day:parseInt(i)};this.formattedDate=b,this.enrollmentId=t._id,this.selectedCourse=t.courseId,this.selectedInstructor=t.instructorId,this.selectedTerm=t.termId}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.gz),e.Y36(a.yh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-enrollment-detail-list"]],decls:32,vars:14,consts:[[1,"container-fluid","mt-4"],[1,"row","mt-4"],[1,"container"],["id","pills-enrollment","role","tabpanel","aria-labelledby","pills-home-tab",1,"tab-pane","fade","show","active"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row","g-3"],[1,"col-2","mt-2"],["for","courseCode",1,"form-label"],["type","text","name","courseCode","aria-label","course","aria-describedby","button-addon","readonly","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"col-8","mt-2"],["for","course",1,"form-label"],["type","text","name","course","aria-label","course","aria-describedby","button-addon","readonly","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"col-4","mt-2"],["for","instructor",1,"form-label"],["type","text","name","instructor","aria-label","course","aria-describedby","button-addon","readonly","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","term",1,"form-label"],["type","text","name","term","aria-label","course","aria-describedby","button-addon","readonly","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","dp",1,"form-label"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["d","ngbDatepicker"],["class","card",4,"ngIf"],[1,"row","mt-1"],[1,"col-12"],[1,"d-flex","mt-4"],[1,"p-0"],["type","text","placeholder","Student","id","search",1,"form-control",3,"keyup"],[1,"ml-auto","mt-3"],["name","limit","id","limit",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"bootstrap",3,"columnMode","footerHeight","rowHeight","rows","limit"],["name","STUDENT","prop","studentId.fullName"],["ngx-datatable-cell-template",""],["name","ENROLLED DATE","prop","enrollDetailDate"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),e._uU(6,"Enrollment"),e.qZA(),e.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"label",9),e._uU(11,"Course Code"),e.qZA(),e.TgZ(12,"input",10),e.NdJ("ngModelChange",function(r){return o.selectedCourse.courseCode=r}),e.qZA()(),e.TgZ(13,"div",11)(14,"label",12),e._uU(15,"Course"),e.qZA(),e.TgZ(16,"input",13),e.NdJ("ngModelChange",function(r){return o.selectedCourse.course=r}),e.qZA()(),e.TgZ(17,"div",14)(18,"label",15),e._uU(19,"Instructor"),e.qZA(),e.TgZ(20,"input",16),e.NdJ("ngModelChange",function(r){return o.selectedInstructor.fullName=r}),e.qZA()(),e.TgZ(21,"div",14)(22,"label",17),e._uU(23,"Term"),e.qZA(),e.TgZ(24,"input",18),e.NdJ("ngModelChange",function(r){return o.selectedTerm.termName=r}),e.qZA()(),e.TgZ(25,"div",14)(26,"label",19),e._uU(27,"Date"),e.qZA(),e.TgZ(28,"div",20)(29,"input",21,22),e.NdJ("ngModelChange",function(r){return o.formattedDate=r}),e.qZA()()()()()()(),e.YNc(31,oe,24,10,"div",23),e.qZA()()()),2&t&&(e.xp6(12),e.Q6J("ngModel",o.selectedCourse.courseCode)("ngModelOptions",e.DdM(10,M)),e.xp6(4),e.Q6J("ngModel",o.selectedCourse.course)("ngModelOptions",e.DdM(11,M)),e.xp6(4),e.Q6J("ngModel",o.selectedInstructor.fullName)("ngModelOptions",e.DdM(12,M)),e.xp6(4),e.Q6J("ngModel",o.selectedTerm.termName)("ngModelOptions",e.DdM(13,M)),e.xp6(5),e.Q6J("ngModel",o.formattedDate),e.xp6(2),e.Q6J("ngIf",o.enrollmentDetails.length>0))},directives:[s.Fj,s.JJ,s.On,h.J4,p.O5,s.EJ,s.YN,s.Kr,u.nE,u.UC,u.vq],pipes:[p.gd,p.uU],styles:[""]}),n})();function re(n,l){1&n&&(e._uU(0),e.ALo(1,"uppercase")),2&n&&e.hij(" ",e.lcZ(1,1,l.row.termName)," ")}function ie(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){const r=e.CHM(t).row;return e.oxw().select(r)}),e.qZA()}}let V=(()=>{class n{constructor(t,o){this.activeModal=t,this.enrollmentStore=o,this.passEntry=new e.vpe,this.limit=10,this.terms=[],this.temp=[],this.enrollmentStore.dispatch(F()),this.terms$=this.enrollmentStore.select(ee),this.terms$.subscribe(i=>{this.terms=i,this.temp=i})}ngOnInit(){}updateFilter(t){const o=t.target.value.toLowerCase(),i=this.temp.filter(function(r){return-1!==r.termName.toLowerCase().indexOf(o)||!o});this.terms=i}select(t){const o=Object.assign({},t);o.termName=o.termName.toUpperCase(),this.passEntry.emit(o),this.activeModal.close("success")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.Kz),e.Y36(a.yh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-terms-list-modal"]],outputs:{passEntry:"passEntry"},decls:28,vars:12,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container"],[1,"d-flex","mt-4"],[1,"p-0"],["type","text","placeholder","Term","id","search",1,"form-control",3,"keyup"],[1,"ml-auto","mt-3"],["name","limit","id","limit",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"row","mt-1"],[1,"col-12"],[1,"bootstrap",3,"columnMode","footerHeight","rowHeight","rows","limit"],["name","TERM","prop","termName",3,"width"],["ngx-datatable-cell-template",""],["name","ACTIONS","prop","action",3,"canAutoResize"],["type","button","routerLinkActive","router-link-active","data-bs-toggle","tooltip","data-bs-placement","top","title","Select",1,"btn","btn-outline-success","fa","fa-check",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Term Selection"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return o.activeModal.dismiss("Cross click")}),e.TgZ(4,"span",3),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"input",8),e.NdJ("keyup",function(r){return o.updateFilter(r)}),e.qZA()(),e.TgZ(11,"div",9)(12,"select",10),e.NdJ("ngModelChange",function(r){return o.limit=r}),e.TgZ(13,"option",11),e._uU(14,"10"),e.qZA(),e.TgZ(15,"option",11),e._uU(16,"25"),e.qZA(),e.TgZ(17,"option",11),e._uU(18,"50"),e.qZA(),e.TgZ(19,"option",11),e._uU(20,"100"),e.qZA()()()(),e.TgZ(21,"div",12)(22,"div",13)(23,"ngx-datatable",14)(24,"ngx-datatable-column",15),e.YNc(25,re,2,3,"ng-template",16),e.qZA(),e.TgZ(26,"ngx-datatable-column",17),e.YNc(27,ie,1,0,"ng-template",16),e.qZA()()()()()()),2&t&&(e.xp6(12),e.Q6J("ngModel",o.limit),e.xp6(1),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",25),e.xp6(2),e.Q6J("ngValue",50),e.xp6(2),e.Q6J("ngValue",100),e.xp6(4),e.Q6J("columnMode","force")("footerHeight",50)("rowHeight","auto")("rows",o.terms)("limit",o.limit),e.xp6(1),e.Q6J("width",200),e.xp6(2),e.Q6J("canAutoResize",!1))},directives:[s.EJ,s.JJ,s.On,s.YN,s.Kr,u.nE,u.UC,u.vq,g.Od],pipes:[p.gd],styles:[""]}),n})();function se(n,l){1&n&&(e._uU(0),e.ALo(1,"uppercase")),2&n&&e.hij(" ",e.lcZ(1,1,l.row.courseCode)," ")}function ae(n,l){1&n&&(e._uU(0),e.ALo(1,"uppercase")),2&n&&e.hij(" ",e.lcZ(1,1,l.row.course)," ")}function ce(n,l){1&n&&(e._uU(0),e.ALo(1,"uppercase")),2&n&&e.hij(" ",e.lcZ(1,1,l.row.course_status)," ")}function me(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){const r=e.CHM(t).row;return e.oxw().select(r)}),e.qZA()}}let H=(()=>{class n{constructor(t,o){this.activeModal=t,this.enrollmentStore=o,this.passEntry=new e.vpe,this.limit=10,this.courses=[],this.temp=[],this.enrollmentStore.dispatch(x()),this.courses$=this.enrollmentStore.select(W),this.courses$.subscribe(i=>{this.courses=i,this.temp=i})}ngOnInit(){}updateFilter(t){const o=t.target.value.toLowerCase(),i=this.temp.filter(function(r){return-1!==r.course.toLowerCase().indexOf(o)||-1!==r.courseCode.toLowerCase().indexOf(o)||!o});this.courses=i}select(t){const o=Object.assign({},t);o.course=o.course.toUpperCase(),o.courseCode=o.courseCode.toUpperCase(),this.passEntry.emit(o),this.activeModal.close("success")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.Kz),e.Y36(a.yh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-active-course-list"]],outputs:{passEntry:"passEntry"},decls:32,vars:10,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container"],[1,"d-flex","mt-4"],[1,"p-0"],["type","text","placeholder","Course","id","search",1,"form-control",3,"keyup"],[1,"ml-auto","mt-3"],["name","limit","id","limit",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"row","mt-1"],[1,"col-12"],[1,"bootstrap",3,"columnMode","footerHeight","rowHeight","rows","limit"],["name","CODE","prop","courseCode"],["ngx-datatable-cell-template",""],["name","COURSE","prop","course"],["name","STATUS","prop","course_status"],["name","ACTIONS","prop","action"],["type","button","routerLinkActive","router-link-active","data-bs-toggle","tooltip","data-bs-placement","top","title","Select",1,"btn","btn-outline-success","fa","fa-check",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Course Selection"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return o.activeModal.dismiss("Cross click")}),e.TgZ(4,"span",3),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"input",8),e.NdJ("keyup",function(r){return o.updateFilter(r)}),e.qZA()(),e.TgZ(11,"div",9)(12,"select",10),e.NdJ("ngModelChange",function(r){return o.limit=r}),e.TgZ(13,"option",11),e._uU(14,"10"),e.qZA(),e.TgZ(15,"option",11),e._uU(16,"25"),e.qZA(),e.TgZ(17,"option",11),e._uU(18,"50"),e.qZA(),e.TgZ(19,"option",11),e._uU(20,"100"),e.qZA()()()(),e.TgZ(21,"div",12)(22,"div",13)(23,"ngx-datatable",14)(24,"ngx-datatable-column",15),e.YNc(25,se,2,3,"ng-template",16),e.qZA(),e.TgZ(26,"ngx-datatable-column",17),e.YNc(27,ae,2,3,"ng-template",16),e.qZA(),e.TgZ(28,"ngx-datatable-column",18),e.YNc(29,ce,2,3,"ng-template",16),e.qZA(),e.TgZ(30,"ngx-datatable-column",19),e.YNc(31,me,1,0,"ng-template",16),e.qZA()()()()()()),2&t&&(e.xp6(12),e.Q6J("ngModel",o.limit),e.xp6(1),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",25),e.xp6(2),e.Q6J("ngValue",50),e.xp6(2),e.Q6J("ngValue",100),e.xp6(4),e.Q6J("columnMode","force")("footerHeight",50)("rowHeight","auto")("rows",o.courses)("limit",o.limit))},directives:[s.EJ,s.JJ,s.On,s.YN,s.Kr,u.nE,u.UC,u.vq,g.Od],pipes:[p.gd],styles:[""]}),n})();const de=function(){return["../register"]};function ue(n,l){1&n&&(e.TgZ(0,"button",24),e._uU(1,"Register User"),e.qZA()),2&n&&e.Q6J("routerLink",e.DdM(1,de))}function pe(n,l){1&n&&(e._uU(0),e.ALo(1,"uppercase")),2&n&&e.hij(" ",e.lcZ(1,1,l.row.firstName)," ")}function ge(n,l){1&n&&(e._uU(0),e.ALo(1,"uppercase")),2&n&&e.hij(" ",e.lcZ(1,1,l.row.lastName)," ")}function _e(n,l){1&n&&(e._uU(0),e.ALo(1,"uppercase")),2&n&&e.hij(" ",e.lcZ(1,1,l.row.role)," ")}function he(n,l){1&n&&(e._uU(0),e.ALo(1,"uppercase")),2&n&&e.hij(" ",e.lcZ(1,1,l.row.user_status)," ")}function fe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){const r=e.CHM(t).row;return e.oxw().select(r)}),e.qZA()}}let L=(()=>{class n{constructor(t,o){this.enrollmentStore=t,this.activeModal=o,this.passEntry=new e.vpe,this.limit=10,this.currentUser={},this.userList=[],this.temp=[],this.role=""}ngOnInit(){this.role="instructor"===this.roleFilter?"Instructor":"Student",this.enrollmentStore.dispatch(I({role:this.roleFilter})),this.users$=this.enrollmentStore.select(X),this.users$.subscribe(t=>{this.userList=t,this.temp=t})}updateFilter(t){const o=t.target.value.toLowerCase(),i=this.temp.filter(function(r){return-1!==r.firstName.toLowerCase().indexOf(o)||-1!==r.lastName.toLowerCase().indexOf(o)||!o});this.userList=i}select(t){const o=Object.assign({},t);o.fullName=o.fullName.toUpperCase(),this.passEntry.emit(o),this.activeModal.close("success")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(a.yh),e.Y36(h.Kz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-role-list-modal"]],inputs:{roleFilter:"roleFilter"},outputs:{passEntry:"passEntry"},decls:37,vars:12,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container"],[1,"row"],[1,"col-12","d-flex","justify-content-end"],["type","button","class","btn btn-primary","routerLinkActive","router-link-active",3,"routerLink",4,"ngIf"],[1,"d-flex","mt-4"],[1,"p-0"],["type","text","placeholder","Name","id","search",1,"form-control",3,"keyup"],[1,"ml-auto","mt-3"],["name","limit","id","limit",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"row","mt-1"],[1,"col-12"],[1,"bootstrap",3,"columnMode","footerHeight","rowHeight","rows","limit"],["name","FIRST NAME","prop","firstName"],["ngx-datatable-cell-template",""],["name","LAST NAME","prop","lastName"],["name","ROLE","prop","role"],["name","STATUS","prop","user_status"],["name","ACTIONS","prop","action"],["type","button","routerLinkActive","router-link-active",1,"btn","btn-primary",3,"routerLink"],["type","button","routerLinkActive","router-link-active","data-bs-toggle","tooltip","data-bs-placement","top","title","Select",1,"btn","btn-outline-success","fa","fa-check",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return o.activeModal.dismiss("Cross click")}),e.TgZ(4,"span",3),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7),e.YNc(10,ue,2,2,"button",8),e.qZA()(),e.TgZ(11,"div",9)(12,"div",10)(13,"input",11),e.NdJ("keyup",function(r){return o.updateFilter(r)}),e.qZA()(),e.TgZ(14,"div",12)(15,"select",13),e.NdJ("ngModelChange",function(r){return o.limit=r}),e.TgZ(16,"option",14),e._uU(17,"10"),e.qZA(),e.TgZ(18,"option",14),e._uU(19,"25"),e.qZA(),e.TgZ(20,"option",14),e._uU(21,"50"),e.qZA(),e.TgZ(22,"option",14),e._uU(23,"100"),e.qZA()()()(),e.TgZ(24,"div",15)(25,"div",16)(26,"ngx-datatable",17)(27,"ngx-datatable-column",18),e.YNc(28,pe,2,3,"ng-template",19),e.qZA(),e.TgZ(29,"ngx-datatable-column",20),e.YNc(30,ge,2,3,"ng-template",19),e.qZA(),e.TgZ(31,"ngx-datatable-column",21),e.YNc(32,_e,2,3,"ng-template",19),e.qZA(),e.TgZ(33,"ngx-datatable-column",22),e.YNc(34,he,2,3,"ng-template",19),e.qZA(),e.TgZ(35,"ngx-datatable-column",23),e.YNc(36,fe,1,0,"ng-template",19),e.qZA()()()()()()),2&t&&(e.xp6(2),e.hij("",o.role," Selection"),e.xp6(8),e.Q6J("ngIf","admin"===o.currentUser.role),e.xp6(5),e.Q6J("ngModel",o.limit),e.xp6(1),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",25),e.xp6(2),e.Q6J("ngValue",50),e.xp6(2),e.Q6J("ngValue",100),e.xp6(4),e.Q6J("columnMode","force")("footerHeight",50)("rowHeight","auto")("rows",o.userList)("limit",o.limit))},directives:[p.O5,g.Od,g.rH,s.EJ,s.JJ,s.On,s.YN,s.Kr,u.nE,u.UC,u.vq],pipes:[p.gd],styles:[""]}),n})();var N=m(75),j=m(6551),z=m(520);let A=(()=>{class n extends j.b{constructor(t){super(t),this.httpClient=t,this.baseURL=this.baseURL+"/enrollment/"}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(z.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$=(()=>{class n extends j.b{constructor(t){super(t),this.httpClient=t,this.baseURL=this.baseURL+"/enrollmentdetails/"}getEnrollmentDetailsByEnrollmentId(t){return this.httpClient.get(`${this.baseURL}getbyenrollmentid/${t}`)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(z.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function be(n,l){1&n&&(e._uU(0),e.ALo(1,"uppercase")),2&n&&e.hij(" ",e.lcZ(1,1,l.row.studentId.fullName)," ")}function ve(n,l){1&n&&(e._uU(0),e.ALo(1,"date")),2&n&&e.hij(" ",e.lcZ(1,1,l.row.enrollDetailDate)," ")}function Ce(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",58),e.NdJ("click",function(){const r=e.CHM(t).row;return e.oxw(2).deleteEnrollmentDetail(r._id)}),e.qZA()}}function Ze(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"h4",10),e._uU(2,"Enrolled Student"),e.qZA(),e.TgZ(3,"div",11)(4,"div",45)(5,"div",46)(6,"div",47)(7,"div",48)(8,"input",49),e.NdJ("keyup",function(i){return e.CHM(t),e.oxw().updateFilter(i)}),e.qZA()(),e.TgZ(9,"div",50)(10,"select",51),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().limit=i}),e.TgZ(11,"option",52),e._uU(12,"10"),e.qZA(),e.TgZ(13,"option",52),e._uU(14,"25"),e.qZA(),e.TgZ(15,"option",52),e._uU(16,"50"),e.qZA(),e.TgZ(17,"option",52),e._uU(18,"100"),e.qZA()()()(),e.TgZ(19,"ngx-datatable",53)(20,"ngx-datatable-column",54),e.YNc(21,be,2,3,"ng-template",55),e.qZA(),e.TgZ(22,"ngx-datatable-column",56),e.YNc(23,ve,2,3,"ng-template",55),e.qZA(),e.TgZ(24,"ngx-datatable-column",57),e.YNc(25,Ce,1,0,"ng-template",55),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.xp6(10),e.Q6J("ngModel",t.limit),e.xp6(1),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",25),e.xp6(2),e.Q6J("ngValue",50),e.xp6(2),e.Q6J("ngValue",100),e.xp6(2),e.Q6J("columnMode","force")("footerHeight",50)("rowHeight","auto")("rows",t.enrollmentDetails)("limit",t.limit)}}const Z=function(){return{standalone:!0}};let Te=(()=>{class n{constructor(t,o,i,r,c,b,S,f){this.formBuilder=t,this.alertifyService=o,this.modalService=i,this.enrollmentService=r,this.activatedRoute=c,this.datepipe=b,this.enrollmentDetailService=S,this.enrollmentStore=f,this.limit=10,this.enrollmentDetails=[],this.temp=[],this.selectedStudent={_id:"",firstName:"",lastName:"",fullName:"",email:"",role:"",user_status:""},this.selectedInstructor={_id:"",firstName:"",lastName:"",fullName:"",email:"",role:"",user_status:""},this.selectedCourse={_id:"",course_status:"",course:"",courseCode:""},this.selectedTerm={_id:"",termName:""},this.enrollmentForm=this.formBuilder.group({_id:[null],courseId:[null,s.kI.required],termId:[null,s.kI.required],instructorId:[null,s.kI.required],enrollmentDate:[null,s.kI.required]}),this.enrollmentDetailForm=this.formBuilder.group({studentId:[null,s.kI.required],enrollmentId:[null,s.kI.required],enrollDetailDate:[null,s.kI.required]}),this.enrollmentId="",this.activatedRoute.data.subscribe(d=>{this.initializeValues(d.routeResolver.data)})}ngOnInit(){this.loadEnrollmentDetails()}loadEnrollmentDetails(){this.enrollmentStore.dispatch(U({id:this.enrollmentId})),this.enrollmentDetails$=this.enrollmentStore.select(Y),this.enrollmentDetails$.subscribe(t=>{this.enrollmentDetails=t,this.temp=t})}get fc(){return this.enrollmentForm.controls}searchInstructor(){const t=this.modalService.open(L,{size:"lg",centered:!0});t.componentInstance.roleFilter="instructor",t.componentInstance.passEntry.subscribe(o=>{this.selectedInstructor=o,this.enrollmentForm.controls.instructorId.setValue(this.selectedInstructor._id)})}searchCourse(){this.modalService.open(H,{size:"lg",centered:!0}).componentInstance.passEntry.subscribe(o=>{this.selectedCourse=o,this.enrollmentForm.controls.courseId.setValue(this.selectedCourse._id)})}searchTerm(){this.modalService.open(V,{size:"lg",centered:!0}).componentInstance.passEntry.subscribe(o=>{this.selectedTerm=o,this.enrollmentForm.controls.termId.setValue(this.selectedTerm._id)})}searchStudent(){const t=this.modalService.open(L,{size:"lg",centered:!0});t.componentInstance.roleFilter="student",t.componentInstance.passEntry.subscribe(o=>{this.selectedStudent=o,this.enrollmentDetailForm.controls.studentId.setValue(this.selectedStudent._id)})}save(){var t=this.enrollmentForm.value;"INVALID"!==this.enrollmentForm.status?this.alertifyService.confirm("Update enrollment","Update Enrollment?",()=>{this.enrollmentService.Update(t._id,t).subscribe(o=>{this.alertifyService.success("Successfully Saved.")},o=>{this.alertifyService.error(o.error.error)})}):this.alertifyService.error("Please fill up all required information.")}saveStudent(){var t=this.enrollmentDetailForm.value;"INVALID"!==this.enrollmentDetailForm.status?this.alertifyService.confirm("Student Enrollment","Enroll Student?",()=>{this.enrollmentDetailService.Create(t).subscribe(o=>{this.alertifyService.success("Successfully Saved."),this.enrollmentDetailForm.reset({enrollmentId:this.enrollmentId}),this.loadEnrollmentDetails(),this.selectedStudent={_id:"",firstName:"",lastName:"",fullName:"",email:"",role:"",user_status:""}},o=>{this.alertifyService.error(o.error.error)})}):this.alertifyService.error("Please fill up all required information.")}deleteEnrollmentDetail(t){this.alertifyService.confirm("Student Enrollment","Remove Enrolled Student?",()=>{this.enrollmentDetailService.Delete(t).subscribe(o=>{this.alertifyService.warning("Successfully Removed."),this.loadEnrollmentDetails()},o=>{this.alertifyService.error(o.error.error)})})}initializeValues(t){const o=t.enrollmentDate.split("T")[0],i=o.split("-")[2],r=o.split("-")[0],c=o.split("-")[1],b={year:parseInt(r),month:parseInt(c),day:parseInt(i)};this.enrollmentId=t._id,this.enrollmentForm.controls._id.setValue(t._id),this.enrollmentForm.controls.courseId.setValue(t.courseId._id),this.enrollmentForm.controls.termId.setValue(t.termId._id),this.enrollmentForm.controls.instructorId.setValue(t.instructorId._id),this.enrollmentForm.controls.enrollmentDate.setValue(b),this.selectedCourse=t.courseId,this.selectedInstructor=t.instructorId,this.selectedTerm=t.termId,this.enrollmentDetailForm.controls.enrollmentId.setValue(t._id)}updateFilter(t){const o=t.target.value.toLowerCase(),i=this.temp.filter(function(r){return-1!==r.studentId.fullName.toLowerCase().indexOf(o)||!o});this.enrollmentDetails=i}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(N.R),e.Y36(h.FF),e.Y36(A),e.Y36(g.gz),e.Y36(p.uU),e.Y36($),e.Y36(a.yh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-update-enrollment"]],decls:80,vars:18,consts:[[1,"container-fluid","mt-4"],[1,"row","mt-4"],[1,"container"],["id","pills-tab","role","tablist",1,"nav","nav-pills","mb-3"],[1,"nav-item"],["id","pills-home-tab","data-toggle","pill","href","#pills-enrollment","role","tab","aria-controls","pills-home","aria-selected","true",1,"nav-link","active"],["id","pills-profile-tab","data-toggle","pill","href","#pills-enrollmentdetails","role","tab","aria-controls","pills-profile","aria-selected","false",1,"nav-link"],["id","pills-tabContent",1,"tab-content"],["id","pills-enrollment","role","tabpanel","aria-labelledby","pills-home-tab",1,"tab-pane","fade","show","active"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-6"],["for","coursecode",1,"form-label"],[1,"input-group"],["type","text","name","coursecode","aria-label","instructor","aria-describedby","button-addon","readonly","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"input-group-append"],["type","button","id","button-addon",1,"btn","btn-outline-primary",3,"click"],[1,"col-12","mt-2"],["for","course",1,"form-label"],["type","text","name","course","aria-label","course","aria-describedby","button-addon","readonly","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","instructor",1,"form-label"],["type","text","name","instructor","aria-label","instructor","aria-describedby","button-addon","readonly","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","term",1,"form-label"],["type","text","name","term","aria-label","term","aria-describedby","button-addon","readonly","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"col-4","mt-2"],["for","dp",1,"form-label"],["placeholder","yyyy-mm-dd","name","dp","formControlName","enrollmentDate","ngbDatepicker","",1,"form-control"],["d","ngbDatepicker"],["type","button",1,"btn","btn-outline-secondary","fa","fa-calendar",3,"click"],[1,"col-12","mt-4"],["type","submit",1,"btn","btn-primary"],["id","pills-enrollmentdetails","role","tabpanel","aria-labelledby","pills-profile-tab",1,"tab-pane","fade"],[1,"col-6","mb-2"],["for","dp1",1,"form-label"],["placeholder","yyyy-mm-dd","name","dp1","formControlName","enrollDetailDate","ngbDatepicker","",1,"form-control"],["d1","ngbDatepicker"],[1,"col-6","d-flex"],[1,"p-0","col-12"],["for","student",1,"form-label"],["type","text","name","student","aria-label","instructor","aria-describedby","button-addon","readonly","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","submit",1,"btn","btn-primary","fa","fa-user-plus"],[1,"ml-auto"],["class","card",4,"ngIf"],[1,"row","mt-1"],[1,"col-12"],[1,"d-flex","mt-4"],[1,"p-0"],["type","text","placeholder","Student","id","search",1,"form-control",3,"keyup"],[1,"ml-auto","mt-3"],["name","limit","id","limit",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"bootstrap",3,"columnMode","footerHeight","rowHeight","rows","limit"],["name","STUDENT","prop","studentId.fullName"],["ngx-datatable-cell-template",""],["name","ENROLLED DATE","prop","enrollDetailDate"],["name","ACTIONS","prop","action"],["type","button","data-bs-toggle","tooltip","data-bs-placement","top","title","Enroll Student",1,"btn","btn-danger","fa","fa-trash",3,"click"]],template:function(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"a",5),e._uU(6,"Enrollment"),e.qZA()(),e.TgZ(7,"li",4)(8,"a",6),e._uU(9,"Student Assignment"),e.qZA()()(),e.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"h4",10),e._uU(14,"Enrollment"),e.qZA(),e.TgZ(15,"div",11)(16,"form",12),e.NdJ("ngSubmit",function(){return o.save()}),e.TgZ(17,"div",13)(18,"label",14),e._uU(19,"Course Code"),e.qZA(),e.TgZ(20,"div",15)(21,"input",16),e.NdJ("ngModelChange",function(c){return o.selectedCourse.courseCode=c}),e.qZA(),e.TgZ(22,"div",17)(23,"button",18),e.NdJ("click",function(){return o.searchCourse()}),e._uU(24,"Search"),e.qZA()()()(),e.TgZ(25,"div",19)(26,"label",20),e._uU(27,"Course"),e.qZA(),e.TgZ(28,"input",21),e.NdJ("ngModelChange",function(c){return o.selectedCourse.course=c}),e.qZA()(),e.TgZ(29,"div",19)(30,"label",22),e._uU(31,"Instructor"),e.qZA(),e.TgZ(32,"div",15)(33,"input",23),e.NdJ("ngModelChange",function(c){return o.selectedInstructor.fullName=c}),e.qZA(),e.TgZ(34,"div",17)(35,"button",18),e.NdJ("click",function(){return o.searchInstructor()}),e._uU(36,"Search"),e.qZA()()()(),e.TgZ(37,"div",19)(38,"label",24),e._uU(39,"Term"),e.qZA(),e.TgZ(40,"div",15)(41,"input",25),e.NdJ("ngModelChange",function(c){return o.selectedTerm.termName=c}),e.qZA(),e.TgZ(42,"div",17)(43,"button",18),e.NdJ("click",function(){return o.searchTerm()}),e._uU(44,"Search"),e.qZA()()()(),e.TgZ(45,"div",26)(46,"label",27),e._uU(47,"Date"),e.qZA(),e.TgZ(48,"div",15),e._UZ(49,"input",28,29),e.TgZ(51,"button",30),e.NdJ("click",function(){return e.CHM(i),e.MAs(50).toggle()}),e.qZA()()(),e.TgZ(52,"div",31)(53,"button",32),e._uU(54,"Save"),e.qZA()()()()()(),e.TgZ(55,"div",33)(56,"div",9)(57,"h4",10),e._uU(58,"Student Assignment"),e.qZA(),e.TgZ(59,"div",11)(60,"form",12),e.NdJ("ngSubmit",function(){return o.saveStudent()}),e.TgZ(61,"div",34)(62,"label",35),e._uU(63,"Enrollment Date"),e.qZA(),e.TgZ(64,"div",15),e._UZ(65,"input",36,37),e.TgZ(67,"button",30),e.NdJ("click",function(){return e.CHM(i),e.MAs(66).toggle()}),e.qZA()()(),e.TgZ(68,"div",38)(69,"div",39)(70,"label",40),e._uU(71,"Student"),e.qZA(),e.TgZ(72,"div",15)(73,"input",41),e.NdJ("ngModelChange",function(c){return o.selectedStudent.fullName=c}),e.qZA(),e.TgZ(74,"div",17)(75,"button",18),e.NdJ("click",function(){return o.searchStudent()}),e._uU(76,"Search"),e.qZA(),e._UZ(77,"button",42),e.qZA()()(),e._UZ(78,"div",43),e.qZA()()()(),e.YNc(79,Ze,26,10,"div",44),e.qZA()()()()()}2&t&&(e.xp6(16),e.Q6J("formGroup",o.enrollmentForm),e.xp6(5),e.Q6J("ngModel",o.selectedCourse.courseCode)("ngModelOptions",e.DdM(13,Z)),e.xp6(7),e.Q6J("ngModel",o.selectedCourse.course)("ngModelOptions",e.DdM(14,Z)),e.xp6(5),e.Q6J("ngModel",o.selectedInstructor.fullName)("ngModelOptions",e.DdM(15,Z)),e.xp6(8),e.Q6J("ngModel",o.selectedTerm.termName)("ngModelOptions",e.DdM(16,Z)),e.xp6(19),e.Q6J("formGroup",o.enrollmentDetailForm),e.xp6(13),e.Q6J("ngModel",o.selectedStudent.fullName)("ngModelOptions",e.DdM(17,Z)),e.xp6(6),e.Q6J("ngIf",o.enrollmentDetails.length>0))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.On,h.J4,s.u,p.O5,s.EJ,s.YN,s.Kr,u.nE,u.UC,u.vq],pipes:[p.gd,p.uU],styles:[""]}),n})();var ye=m(372);const Me=function(){return["./newenrollment"]};function Ae(n,l){1&n&&(e.TgZ(0,"button",23),e._uU(1,"New Enrollment"),e.qZA()),2&n&&e.Q6J("routerLink",e.DdM(1,Me))}function Ee(n,l){1&n&&(e._uU(0),e.ALo(1,"uppercase")),2&n&&e.hij(" ",e.lcZ(1,1,l.row.termId.termName)," ")}function Ue(n,l){1&n&&(e._uU(0),e.ALo(1,"uppercase")),2&n&&e.hij(" ",e.lcZ(1,1,l.row.courseId.courseCode)," ")}function Le(n,l){1&n&&(e._uU(0),e.ALo(1,"uppercase")),2&n&&e.hij(" ",e.lcZ(1,1,l.row.courseId.course)," ")}function Ne(n,l){1&n&&(e._uU(0),e.ALo(1,"uppercase")),2&n&&e.hij(" ",e.lcZ(1,1,l.row.instructorId.fullName)," ")}function Se(n,l){1&n&&(e._uU(0),e.ALo(1,"date")),2&n&&e.hij(" ",e.lcZ(1,1,l.row.enrollmentDate)," ")}const Je=function(n){return["./enrollmentdetails",n]},De=function(n){return["./updateenrollment",n]};function we(n,l){if(1&n&&e._UZ(0,"button",24)(1,"button",25),2&n){const t=l.row;e.Q6J("routerLink",e.VKq(2,Je,t._id)),e.xp6(1),e.Q6J("routerLink",e.VKq(4,De,t._id))}}let Ie=(()=>{class n{constructor(t,o){this.tokenStorage=t,this.enrollmentStore=o,this.limit=10,this.enrollmentList=[],this.temp=[],this.currentUser={},this.currentUser=null!==this.tokenStorage.getDecodedUserToken()?this.tokenStorage.getDecodedUserToken():{},this.enrollmentStore.dispatch(D()),this.enrollments$=this.enrollmentStore.select(B),this.enrollments$.subscribe(i=>{this.enrollmentList=i,this.temp=i})}ngOnInit(){}ngOnDestroy(){}updateFilter(t){const o=t.target.value.toLowerCase(),i=this.temp.filter(function(r){return-1!==r.courseId.course.toLowerCase().indexOf(o)||!o});this.enrollmentList=i}updateEnrollment(t){}newEnrollment(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ye.i),e.Y36(a.yh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-enrollment-list"]],decls:40,vars:14,consts:[[1,"container-fluid","mt-4"],[1,"row"],[1,"col-12","d-flex","justify-content-start"],[1,"row","mt-4"],[1,"col-12"],[1,"container"],[1,"col-12","d-flex","justify-content-end"],["type","button","class","btn btn-primary",3,"routerLink",4,"ngIf"],[1,"d-flex","mt-4"],[1,"p-0"],["type","text","placeholder","Course","id","search",1,"form-control",3,"keyup"],[1,"ml-auto","mt-3"],["name","limit","id","limit",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"row","mt-1"],[1,"bootstrap",3,"columnMode","footerHeight","rowHeight","rows","limit"],["name","TERM","prop","term"],["ngx-datatable-cell-template",""],["name","COURSE CODE","prop","courseCode",3,"canAutoResize"],["name","COURSE","prop","course"],["name","INSTRUCTOR","prop","instructor"],["name","DATE","prop","date",3,"canAutoResize"],["name","ACTIONS","prop","action",3,"canAutoResize"],["type","button",1,"btn","btn-primary",3,"routerLink"],["type","button","routerLinkActive","router-link-active","data-bs-toggle","tooltip","data-bs-placement","top","title","View",1,"btn","btn-outline-primary","fa","fa-search",3,"routerLink"],["type","button","routerLinkActive","router-link-active","data-bs-toggle","tooltip","data-bs-placement","top","title","View/Edit",1,"btn","btn-outline-primary","fa","fa-pencil",3,"routerLink"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),e._uU(4,"Enrollment Management"),e.qZA()()(),e._UZ(5,"hr"),e.TgZ(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",1)(10,"div",6),e.YNc(11,Ae,2,2,"button",7),e.qZA()(),e.TgZ(12,"div",8)(13,"div",9)(14,"input",10),e.NdJ("keyup",function(r){return o.updateFilter(r)}),e.qZA()(),e.TgZ(15,"div",11)(16,"select",12),e.NdJ("ngModelChange",function(r){return o.limit=r}),e.TgZ(17,"option",13),e._uU(18,"10"),e.qZA(),e.TgZ(19,"option",13),e._uU(20,"25"),e.qZA(),e.TgZ(21,"option",13),e._uU(22,"50"),e.qZA(),e.TgZ(23,"option",13),e._uU(24,"100"),e.qZA()()()(),e.TgZ(25,"div",14)(26,"div",4)(27,"ngx-datatable",15)(28,"ngx-datatable-column",16),e.YNc(29,Ee,2,3,"ng-template",17),e.qZA(),e.TgZ(30,"ngx-datatable-column",18),e.YNc(31,Ue,2,3,"ng-template",17),e.qZA(),e.TgZ(32,"ngx-datatable-column",19),e.YNc(33,Le,2,3,"ng-template",17),e.qZA(),e.TgZ(34,"ngx-datatable-column",20),e.YNc(35,Ne,2,3,"ng-template",17),e.qZA(),e.TgZ(36,"ngx-datatable-column",21),e.YNc(37,Se,2,3,"ng-template",17),e.qZA(),e.TgZ(38,"ngx-datatable-column",22),e.YNc(39,we,2,6,"ng-template",17),e.qZA()()()()()()()()),2&t&&(e.xp6(11),e.Q6J("ngIf","admin"===o.currentUser.role),e.xp6(5),e.Q6J("ngModel",o.limit),e.xp6(1),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",25),e.xp6(2),e.Q6J("ngValue",50),e.xp6(2),e.Q6J("ngValue",100),e.xp6(4),e.Q6J("columnMode","force")("footerHeight",50)("rowHeight","auto")("rows",o.enrollmentList)("limit",o.limit),e.xp6(3),e.Q6J("canAutoResize",!1),e.xp6(6),e.Q6J("canAutoResize",!1),e.xp6(2),e.Q6J("canAutoResize",!1))},directives:[p.O5,g.rH,s.EJ,s.JJ,s.On,s.YN,s.Kr,u.nE,u.UC,u.vq,g.Od],pipes:[p.gd,p.uU],styles:[""]}),n})();const E=function(){return{standalone:!0}},qe=function(){return["../"]};let xe=(()=>{class n{constructor(t,o,i,r,c){this.formBuilder=t,this.alertifyService=o,this.modalService=i,this.enrollmentService=r,this.router=c,this.selectedInstructor={_id:"",firstName:"",lastName:"",fullName:"",email:"",role:"",user_status:""},this.selectedCourse={_id:"",course_status:"",course:"",courseCode:""},this.selectedTerm={_id:"",termName:""},this.enrollmentForm=this.formBuilder.group({_id:[null],courseId:[null,s.kI.required],termId:[null,s.kI.required],instructorId:[null,s.kI.required],enrollmentDate:[new Date,s.kI.required]})}ngOnInit(){}get fc(){return this.enrollmentForm.controls}create(){var t=this.enrollmentForm.value;"INVALID"!==this.enrollmentForm.status?this.alertifyService.confirm("Enrollment Registration","Create Enrollment?",()=>{this.enrollmentService.Create(t).subscribe(o=>{this.alertifyService.success("Successfully Created."),this.enrollmentForm.reset(),this.clearValues(),this.router.navigate([`./mainview/enrollment/updateenrollment/${o.data._id}`])},o=>{this.alertifyService.error(o.error.error)})}):this.alertifyService.error("Please fill up all required information.")}searchInstructor(){const t=this.modalService.open(L,{size:"lg",centered:!0});t.componentInstance.roleFilter="instructor",t.componentInstance.passEntry.subscribe(o=>{this.selectedInstructor=o,this.enrollmentForm.controls.instructorId.setValue(this.selectedInstructor._id)})}searchCourse(){this.modalService.open(H,{size:"lg",centered:!0}).componentInstance.passEntry.subscribe(o=>{this.selectedCourse=o,this.enrollmentForm.controls.courseId.setValue(this.selectedCourse._id)})}searchTerm(){this.modalService.open(V,{size:"lg",centered:!0}).componentInstance.passEntry.subscribe(o=>{this.selectedTerm=o,this.enrollmentForm.controls.termId.setValue(this.selectedTerm._id)})}clearValues(){this.selectedInstructor={_id:"",firstName:"",lastName:"",fullName:"",email:"",role:"",user_status:""},this.selectedCourse={_id:"",course_status:"",course:"",courseCode:""},this.selectedTerm={_id:"",termName:""}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(N.R),e.Y36(h.FF),e.Y36(A),e.Y36(g.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-new-enrollment"]],decls:48,vars:15,consts:[[1,"container-fluid","mt-4"],[1,"row","mt-4"],[1,"container"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-6"],["for","coursecode",1,"form-label"],[1,"input-group"],["type","text","name","coursecode","aria-label","instructor","aria-describedby","button-addon","readonly","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"input-group-append"],["type","button","id","button-addon",1,"btn","btn-outline-primary",3,"click"],[1,"col-12","mt-2"],["for","course",1,"form-label"],["type","text","name","course","aria-label","course","aria-describedby","button-addon","readonly","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","instructor",1,"form-label"],["type","text","name","instructor","aria-label","instructor","aria-describedby","button-addon","readonly","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","term",1,"form-label"],["type","text","name","term","aria-label","term","aria-describedby","button-addon","readonly","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"col-4","mt-2"],["for","dp",1,"form-label"],["placeholder","yyyy-mm-dd","name","dp","formControlName","enrollmentDate","ngbDatepicker","",1,"form-control"],["d","ngbDatepicker"],["type","button",1,"btn","btn-outline-secondary","fa","fa-calendar",3,"click"],[1,"col-12","mt-4"],["type","button","routerLinkActive","router-link-active",1,"btn","btn-primary","mr-2",3,"routerLink"],["type","submit",1,"btn","btn-primary"]],template:function(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5,"Enrollment Registration"),e.qZA(),e.TgZ(6,"div",5)(7,"form",6),e.NdJ("ngSubmit",function(){return o.create()}),e.TgZ(8,"div",7)(9,"label",8),e._uU(10,"Course Code"),e.qZA(),e.TgZ(11,"div",9)(12,"input",10),e.NdJ("ngModelChange",function(c){return o.selectedCourse.courseCode=c}),e.qZA(),e.TgZ(13,"div",11)(14,"button",12),e.NdJ("click",function(){return o.searchCourse()}),e._uU(15,"Search"),e.qZA()()()(),e.TgZ(16,"div",13)(17,"label",14),e._uU(18,"Course"),e.qZA(),e.TgZ(19,"input",15),e.NdJ("ngModelChange",function(c){return o.selectedCourse.course=c}),e.qZA()(),e.TgZ(20,"div",13)(21,"label",16),e._uU(22,"Instructor"),e.qZA(),e.TgZ(23,"div",9)(24,"input",17),e.NdJ("ngModelChange",function(c){return o.selectedInstructor.fullName=c}),e.qZA(),e.TgZ(25,"div",11)(26,"button",12),e.NdJ("click",function(){return o.searchInstructor()}),e._uU(27,"Search"),e.qZA()()()(),e.TgZ(28,"div",13)(29,"label",18),e._uU(30,"Term"),e.qZA(),e.TgZ(31,"div",9)(32,"input",19),e.NdJ("ngModelChange",function(c){return o.selectedTerm.termName=c}),e.qZA(),e.TgZ(33,"div",11)(34,"button",12),e.NdJ("click",function(){return o.searchTerm()}),e._uU(35,"Search"),e.qZA()()()(),e.TgZ(36,"div",20)(37,"label",21),e._uU(38,"Date"),e.qZA(),e.TgZ(39,"div",9),e._UZ(40,"input",22,23),e.TgZ(42,"button",24),e.NdJ("click",function(){return e.CHM(i),e.MAs(41).toggle()}),e.qZA()()(),e.TgZ(43,"div",25)(44,"button",26),e._uU(45,"Back"),e.qZA(),e.TgZ(46,"button",27),e._uU(47,"Create"),e.qZA()()()()()()()()}2&t&&(e.xp6(7),e.Q6J("formGroup",o.enrollmentForm),e.xp6(5),e.Q6J("ngModel",o.selectedCourse.courseCode)("ngModelOptions",e.DdM(10,E)),e.xp6(7),e.Q6J("ngModel",o.selectedCourse.course)("ngModelOptions",e.DdM(11,E)),e.xp6(5),e.Q6J("ngModel",o.selectedInstructor.fullName)("ngModelOptions",e.DdM(12,E)),e.xp6(8),e.Q6J("ngModel",o.selectedTerm.termName)("ngModelOptions",e.DdM(13,E)),e.xp6(12),e.Q6J("routerLink",e.DdM(14,qe)))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.On,h.J4,s.u,g.Od,g.rH],styles:[""]}),n})();var ke=m(8896),v=m(4850),Fe=m(7221);let G=(()=>{class n{constructor(t,o,i){this.enrollmentService=t,this.router=o,this.alertify=i}resolve(t,o){return this.enrollmentService.GetById(t.params.id).pipe((0,v.U)(i=>i),(0,Fe.K)(i=>(this.alertify.error(i.error.error),this.router.navigateByUrl("/mainview/enrollment"),ke.E)))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(A),e.LFG(g.F0),e.LFG(N.R))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Oe=[{path:"",component:Ie},{path:"newenrollment",component:xe},{path:"updateenrollment/:id",component:Te,resolve:{routeResolver:G}},{path:"enrollmentdetails/:id",component:le,resolve:{routeResolver:G}}];let Re=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.Bz.forChild(Oe)],g.Bz]}),n})();var T=m(2994),y=m(8259),Qe=m(5781),Ye=m(9993),Ve=m(1181);let He=(()=>{class n{constructor(t,o,i,r,c,b,S){this.actions$=t,this.enrollmentStore=o,this.enrollmentService=i,this.userService=r,this.courseService=c,this.termService=b,this.enrollmentDetailService=S,this.loadEnrollments$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(D),(0,T.b)(f=>{this.enrollmentService.Get(0,0).pipe((0,v.U)(d=>{this.enrollmentStore.dispatch(w({data:d.data}))})).subscribe(y.noop,d=>console.log(d))})),{dispatch:!1}),this.loadEnrollmentDetails$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(U),(0,T.b)(f=>{this.enrollmentDetailService.getEnrollmentDetailsByEnrollmentId(f.id).pipe((0,v.U)(d=>{this.enrollmentStore.dispatch(R({data:d.data}))})).subscribe(y.noop,d=>console.log(d))})),{dispatch:!1}),this.loadUsers$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(I),(0,T.b)(f=>{this.userService.getUsersByRole(f.role).pipe((0,v.U)(d=>{this.enrollmentStore.dispatch(q({data:d.data}))})).subscribe(y.noop,d=>console.log(d))})),{dispatch:!1}),this.loadActiveCourses$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(x),(0,T.b)(f=>{this.courseService.getAllActiveCourse().pipe((0,v.U)(d=>{this.enrollmentStore.dispatch(k({data:d.data}))})).subscribe(y.noop,d=>console.log(d))})),{dispatch:!1}),this.loadTerms$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(F),(0,T.b)(f=>{this.termService.Get(0,0).pipe((0,v.U)(d=>{this.enrollmentStore.dispatch(O({data:d.data}))})).subscribe(y.noop,d=>console.log(d))})),{dispatch:!1})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(_.eX),e.LFG(a.yh),e.LFG(A),e.LFG(Qe.f),e.LFG(Ye.N),e.LFG(Ve.F),e.LFG($))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),je=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[p.uU],imports:[[p.ez,Re,h.IJ,u.xD,s.UX,s.u5,a.Aw.forFeature(Q,P),_.sQ.forFeature([He])]]}),n})()}}]);